<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>파티룸</title>
        
</head>

<body>
    <!-- 상단바 통일 => 로그인에서 로그아웃으로만 바뀜 -->
    <div id="header">
        <div id="header-width-container">
            <div id="header-logo">
                <a href="#">
                    <img src="#" alt="Header Image" />
                </a>
            </div>
            <div id="header-right">
                <a href="#">로그아웃</a>
            </div>
        </div>
    </div>

    <!-- 파티룸 유저들 상태(on/off) -->
    <div class="party-room">
        <div class="party-rooms">
            <div class="party-leader">
                <img src="../public/MUCTS_LOGO_BLACK.png" alt="MUCTS_LOGO_BLACK">
                <span type="button" class="userState active" onclick="toggleState(this)">READER</span>
            </div>
            <div class="user">
                <img src="../public/MUCTS_LOGO_BLACK.png" alt="MUCTS_LOGO_BLACK">
                <span type="button" class="userState active" onclick="toggleState(this)">NOT READY</span>
            </div>
            <div class="user">
                <img src="../public/MUCTS_LOGO_BLACK.png" alt="MUCTS_LOGO_BLACK">
                <span type="button" class="userState active" onclick="toggleState(this)">NOT READY</span>
            </div>
            <div class="user">
                <img src="../public/MUCTS_LOGO_BLACK.png" alt="MUCTS_LOGO_BLACK">
                <span type="button" class="userState active" onclick="toggleState(this)">NOT READY</span>
            </div>
        </div>

        <!-- 지도, 채팅창 -->
        <div class="map-chat">
            <div class="map-chat">
                <div class="map"></div>
                <form class="chat" action="#">
                    <input type="text" name="#" id="chatting" placeholder="채팅입력공간">
                    <input type="submit" value="전송" id="send_btn">
                </form>
            </div>
        </div>
    </div>
    <!-- 하단바 -->
    <div class="footer">
        <div class="width-container">
            <div class="padding-left">
                <img src="#" alt="Footer Image">
                <div class="footer-logo">
                    <a href="#" target="_blank" class="v-bar"> 회사소개 </a>
                    <a href="#" target="_blank" class="v-bar"> 제휴문의 </a>
                    <a href="" target="_blank" class="v-bar"> 1:1문의 </a>
                    <a href="#" target="_blank" class="v-bar"> 개인정보처리방침 </a>
                    <a href="#" target="_blank" class="v-bar"> 서비스이용약관 </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // READY 상태 전환 함수
        function toggleState(element) {
            const userElement = element.closest('.user, .party-leader');
            const imgElement = userElement.querySelector('img');
            
            if (element.innerText === "READY") {
                element.innerText = "NOT READY";
                element.classList.add("active");
                imgElement.src = "../public/MUCTS_LOGO_BLACK.png";
                imgElement.alt = "MUCTS_LOGO_BLACK";
            } else {
                element.innerText = "READY";
                element.classList.remove("active");
                imgElement.src = "../public/MUCKS_LOGO.png";
                imgElement.alt = "MUCKS_LOGO";
            }

            // 모든 유저 버튼의 상태를 검사하여 숫자 1번 버튼 업데이트
            const allUsersReady = [...document.querySelectorAll('.user .userState')].every(el => el.innerText === "READY");
            const partyLeaderButton = document.querySelector('.party-leader .userState');
            if (allUsersReady) {
                partyLeaderButton.innerText = "START";
            } else {
                partyLeaderButton.innerText = "NOT READY";
            }
        }
    </script>
</body>

</html>
